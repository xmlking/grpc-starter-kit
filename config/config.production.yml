services:
  account:
    endpoint: dns:///account:8080
  greeter:
    endpoint: k8s:///greeter:8080
  emailer:
    endpoint: http://emailer:8080
  recorder:
    endpoint: http://recorder:8080
  play:
    # endpoint: dns://recorder:8080
    endpoint: kubernetes:///greeter:8080
  xds:
    endpoint: dns://recorder:8080

features:
  tls:
#    cert_file: config/certs/upstream-cert.pem
#    key_file: config/certs/upstream-key.pem
    cert_file: "/var/run/autocert.step.sm/site.crt"
    key_file: "/var/run/autocert.step.sm/site.key"
    ca_file: "/var/run/autocert.step.sm/root.crt"
    server_name: "*"

  metrics:
    backend: gcp
    endpoint: ":9213" # using Custom Exporter port as default from: https://github.com/prometheus/prometheus/wiki/Default-port-allocations
    sampling_fraction: 0.0001

  tracing:
    backend: gcp
    sampling_fraction: 0.0001
